name: Build and Deploy to Firebaseon:  push:    branches:      - mainjobs:  install-packages:    runs-on: ubuntu-latest    steps:      - name: Checkout repository        uses: actions/checkout@v4      - name: Setup Node.js        uses: actions/setup-node@v4        with:          node-version: '20'      - name: Install dependencies        run: npm install      - name: Install Firebase CLI        run: npm install -g firebase-tools  create-env:    needs: install-packages    runs-on: ubuntu-latest    steps:      - name: Checkout repository        uses: actions/checkout@v4      - name: Create .env file        run: echo "F_KEY=${{ secrets.F_KEY }}" > $GITHUB_WORKSPACE/.env      - name: Write additional environment variables to .env        run: |          echo "APP_ID=${{ secrets.APP_ID }}" >> $GITHUB_WORKSPACE/.env      - name: Verify .env file exists        run: ls -lah $GITHUB_WORKSPACE/.env      - name: Verify .env file content        run: cat $GITHUB_WORKSPACE/.env      - name: Save .env as artifact        uses: actions/upload-artifact@v4        with:          name: env-file          path: $GITHUB_WORKSPACE/.env          if-no-files-found: error  build:    needs: create-env    runs-on: ubuntu-latest    steps:      - name: Checkout repository        uses: actions/checkout@v4      - name: Setup Node.js        uses: actions/setup-node@v4        with:          node-version: '20'      - name: Install dependencies        run: npm install      - name: Retrieve .env file        uses: actions/download-artifact@v4        with:          name: env-file      - name: Verify .env file exists in build job        run: ls -lah $GITHUB_WORKSPACE/.env      - name: Verify .env file content in build job        run: cat $GITHUB_WORKSPACE/.env      - name: Build application        run: npm run build  deploy:    needs: build    runs-on: ubuntu-latest    steps:      - name: Checkout repository        uses: actions/checkout@v4      - name: Setup Node.js        uses: actions/setup-node@v4        with:          node-version: '20'      - name: Install Firebase CLI        run: npm install -g firebase-tools      - name: Retrieve .env file        uses: actions/download-artifact@v4        with:          name: env-file      - name: Verify .env file exists in deploy job        run: ls -lah $GITHUB_WORKSPACE/.env      - name: Verify .env file content in deploy job        run: cat $GITHUB_WORKSPACE/.env      - name: Deploy to Firebase        env:          FIREBASE_TOKEN: ${{ secrets.FIREBASE_TOKEN }}        run: firebase deploy